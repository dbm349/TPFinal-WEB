{% extends "base.html" %}

{% block title %}Datos Propiedad{% endblock %}

{% block header %}
    {{ include('partials/nav.html') }}
{% endblock %}

{% block head %}
    {{ parent() }}
    <meta name="keywords" content="PAW,2018,Templates,PHP">
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADQqrHWiLIRrXLxkdFqbeslSk3dE50s-I&callback=initMap">
    </script>
    
{% endblock %}

{% block main %}
<h2>Detalles</h2>
<section>
    <dl>
        <dt>Direccion:</dt><dl>{{propiedad.direccion}}</dl>
        <dt>Localidad:</dt><dl>{{propiedad.localidad}}</dl>
        <dt>Provincia:</dt><dl>{{propiedad.provincia}}</dl>

        {% if propiedad.supTotal is not empty %}
            <dt>Superficie Total:</dt><dl>{{propiedad.supTotal}}</dl>
        {% endif %}

        {% if propiedad.supCub is not empty %}
        <dt>Superficie Cubierta:</dt><dl>{{propiedad.supCub}}</dl>
        {% endif %}

        {% if propiedad.piso is not empty %}
        <dt>Piso:</dt><dl>{{propiedad.piso}}</dl>
        {% endif %}

        {% if propiedad.ambientes is not empty %}
        <dt>Ambientes:</dt><dl>{{propiedad.ambientes}}</dl>
        {% endif %}

        {% if propiedad.dormitorios is not empty %}
        <dt>Dormitorios:</dt><dl>{{propiedad.dormitorios}}</dl>
        {% endif %}

        {% if propiedad.baños is not empty %}
        <dt>Baños:</dt><dl>{{propiedad.baños}}</dl>
        {% endif %}

        {% if propiedad.patio is not empty %}
        <dt>Patio:</dt><dl>{{propiedad.patio}}</dl>
        {% endif %}

        {% if propiedad.piscina is not empty %} 
        <dt>Piscina:</dt><dl>{{propiedad.piscina}}</dl>
        {% endif %}

        {% if propiedad.garage is not empty %}
        <dt>Garage:</dt><dl>{{propiedad.garage}}</dl>
        {% endif %}

        {% if propiedad.parrilla is not empty %}
        <dt>Parrilla:</dt><dl>{{propiedad.parrilla}}</dl>
        {% endif %}

        {% if propiedad.quincho is not empty %}
        <dt>Quincho:</dt><dl>{{propiedad.quincho}}</dl>
        {% endif %}

        {% if propiedad.antiguedad is not empty %}
        <dt>Antiguedad:</dt><dl>{{propiedad.antiguedad}}</dl>
        {% endif %}

        {% if propiedad.precio is not empty %}
        <dt>Precio:</dt><dl>{{propiedad.precio}}</dl>
        {% endif %}

        {% if propiedad.expensas is not empty %}
        <dt>Expensas:</dt><dl>{{propiedad.expensas}}</dl>
        {% endif %}

        {% if propiedad.moneda is not empty %}
        <dt>Moneda:</dt><dl>{{propiedad.moneda}}</dl>
        {% endif %}

        {% if propiedad.descripcion is not empty %}
        <dt>Descripcion:</dt><dl>{{propiedad.descripcion}}</dl>
        {% endif %}

        <div id="map"></div>

        <script>
            function initMap() {
                var myLatLng = {lat: -25.363, lng: 131.044};
    
                var map = new google.maps.Map(document.getElementById('map'), {
                    zoom: 4,
                    center: myLatLng
                });
    
                var marker = new google.maps.Marker({
                    position: myLatLng,
                    map: map,
                    title: 'Hello World!'
                });
            }
        </script>
        
        <!--
        <script type="text/javascript">

            var divMapa = document.getElementById('mapa');
            navigator.geolocation.getCurrentPosition(fn_ok, fn_mal);

            function fn_mal(){

            }

            function fn_ok(rta){
                
                var lat = rta.coords.latitude;
                var lon = rta.coords.logitude;

                var gLatLon = new google.maps.LatLng(lat,lon);
                var objConfig = {
                    zoom: 17,
                    center: gLatLon
                }

                var gMapa = new google.maps.Map(divMapa,objConfig);
                var objConfigMarker = {
                    position: gLatLon,
                    map: gMapa,
                    title: ""
                }

                var gMarker = new google.maps.Marker(objConfigMarker);

                var gCoder = new google.maps.Geocoder();
                var objInformacion = {
                    adress: 'Belgrano 433, Lujan, Buenos Aires'
                }
                gCoder.geocode(objInformacion, fn_coder);

                function fn_coder(datos){
                    var coordenadas = datos[0].geometry.location; //objLatLong
                    
                    var config = {
                        map: gMapa,
                        position: coordenadas,
                        title: 'Casa'
                    }

                    var gMarkerDV = new google.maps.Marker(config);
                }
            }

        </script>-->

        
    </dl>
</section>

{% endblock %}