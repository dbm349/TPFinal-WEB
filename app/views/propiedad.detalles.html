{% extends "base.html" %}

{% block title %}Datos Propiedad{% endblock %}

{% block header %}
    {{ include('partials/nav.html') }}
{% endblock %}

{% block head %}
    {{ parent() }}
    <meta name="keywords" content="PAW,2018,Templates,PHP">
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADQqrHWiLIRrXLxkdFqbeslSk3dE50s-I&callback=initMap">
    </script>
    
{% endblock %}

{% block main %}
<h2 id="datos">Detalles</h2>
<table id="t01">
    <tr>
        <th>Dirección</th><td>{{propiedad.direccion}}</td>
    </tr>

    <tr>
        <th>Localidad</th><td>{{propiedad.localidad}}</td>
    </tr>

    <tr>
        <th>Provincia</th><td>{{propiedad.provincia}}</td>
    </tr>

    <tr>
        {% if propiedad.supTotal is not empty %}
        <th>Superficie Total</th><td>{{propiedad.supTotal}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.supCub is not empty %}
        <th>Superficie Cubierta</th><td>{{propiedad.supCub}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.piso is not empty %}
        <th>Piso</th><td>{{propiedad.piso}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.ambientes is not empty %}
        <th>Ambientes</th><td>{{propiedad.ambientes}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.dormitorios is not empty %}
        <th>Dormitorios</th><td>{{propiedad.dormitorios}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.baños is not empty %}
        <th>Baños</th><td>{{propiedad.baños}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.patio is not empty %}
        <th>Patio</th><td>{{propiedad.patio}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.piscina is not empty %} 
        <th>Piscina</th><td>{{propiedad.piscina}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.garage is not empty %}
        <th>Garage</th><td>{{propiedad.garage}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.parrilla is not empty %}
        <th>Parrilla</th><td>{{propiedad.parrilla}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.quincho is not empty %}
        <th>Quincho</th><td>{{propiedad.quincho}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.antiguedad is not empty %}
        <th>Antiguedad</th><td>{{propiedad.antiguedad}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.precio is not empty %}
        <th>Precio</th><td>{{propiedad.precio}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.expensas is not empty %}
        <th>Expensas</th><td>{{propiedad.expensas}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.moneda is not empty %}
        <th>Moneda</th><td>{{propiedad.moneda}}</td>
        {% endif %}
    </tr>

    <tr>
        {% if propiedad.descripcion is not empty %}
        <th>Descripción</th><td>{{propiedad.descripcion}}</td>
        {% endif %}
    </tr>
</table>
        
<div id="map"></div>

    <script>
        function initMap() {
            var myLatLng = {lat: -25.363, lng: 131.044};

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 4,
                center: myLatLng
            });

            var marker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                title: 'Hello World!'
            });
        }
    </script>
    
    <!--
    <script type="text/javascript">

        var divMapa = document.getElementById('mapa');
        navigator.geolocation.getCurrentPosition(fn_ok, fn_mal);

        function fn_mal(){

        }

        function fn_ok(rta){
            
            var lat = rta.coords.latitude;
            var lon = rta.coords.logitude;

            var gLatLon = new google.maps.LatLng(lat,lon);
            var objConfig = {
                zoom: 17,
                center: gLatLon
            }

            var gMapa = new google.maps.Map(divMapa,objConfig);
            var objConfigMarker = {
                position: gLatLon,
                map: gMapa,
                title: ""
            }

            var gMarker = new google.maps.Marker(objConfigMarker);

            var gCoder = new google.maps.Geocoder();
            var objInformacion = {
                adress: 'Belgrano 433, Lujan, Buenos Aires'
            }
            gCoder.geocode(objInformacion, fn_coder);

            function fn_coder(datos){
                var coordenadas = datos[0].geometry.location; //objLatLong
                
                var config = {
                    map: gMapa,
                    position: coordenadas,
                    title: 'Casa'
                }

                var gMarkerDV = new google.maps.Marker(config);
            }
        }

    </script>-->


</section>

{% endblock %}